import{t as N,a as E,b as Z}from"./FYrJzXzo.js";import"./CM28Q3F9.js";import{p as ee,d as f,s,g as t,l as te,h as re,j as se,c as v,b as m,r as w,a as ae,t as O,e as P}from"./BWQv4ORO.js";import{s as ne}from"./Dss2Gfxm.js";import{p as C,b as oe,i as F,s as ie}from"./Agn4hVUl.js";import{e as D}from"./DGJXvoP4.js";import{c as T,a as V,s as L}from"./KVacng_F.js";import{b as le}from"./BQZnyJ-a.js";import{i as ue}from"./aOCAfh_U.js";import{P as I,i as ce}from"./eV_I911L.js";import{c as de,o as pe}from"./Dnl6xlxb.js";var fe=N('<div class="flex mt-2 space-x-2 justify-end"><button class="w-6 h-6 p-1 rounded-full bg-gray-900 hover:bg-gray-800 text-white" title="Delete counter" aria-label="Delete counter"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"></path></svg></button> <button title="Move up" aria-label="Move counter up"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M4.5 15.75l7.5-7.5 7.5 7.5"></path></svg></button> <button title="Move down" aria-label="Move counter down"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M19.5 8.25l-7.5 7.5-7.5-7.5"></path></svg></button></div>'),ve=N('<div class="about-counter-item"><h3 class="about-counter-title"><!> <span class="text-primary-1"><!></span></h3> <p class="no-margin"><!></p> <!></div>');function Ce(z,g){ee(g,!1);const[G,H]=ie(),l=()=>oe(ce,"$isEditing",G),y=de();let a=C(g,"counter",12),j=C(g,"firstEntry",8,!1),$=C(g,"lastEntry",8,!1),h=f(parseInt(a().value.replace(/\D/g,""))||0),n=f(0),J=2e3,d=f(!1),u=f(!1),c=f();function K(e){if(typeof window>"u"){s(n,e);return}if(t(u)||t(d))return;s(d,!0);const r=t(n),i=window.performance.now();function o(p){const M=p-i,_=Math.min(M/J,1),Y=1-Math.pow(1-_,3);s(n,r+(e-r)*Y),_<1?window.requestAnimationFrame(o):(s(n,e),s(d,!1),s(u,!0))}window.requestAnimationFrame(o)}function A(){if(typeof window>"u"||!window.IntersectionObserver){s(n,t(h));return}const e={root:null,rootMargin:"0px",threshold:.1},r=new IntersectionObserver(i=>{i.forEach(o=>{o.isIntersecting&&!t(u)&&!l()&&K(t(h))})},e);return t(c)&&r.observe(t(c)),()=>{t(c)&&r.unobserve(t(c))}}pe(()=>{if(l())s(n,t(h));else return s(n,0),A()}),te(()=>(l(),t(d),t(u),re(a())),()=>{!l()&&!t(d)&&!t(u)&&(s(h,parseInt(a().value.replace(/\D/g,""))||0),s(u,!1),s(n,0),A())}),se(),ue();var b=ve(),x=v(b),q=v(x);{var Q=e=>{I(e,{get content(){return a().value},set content(r){a(a().value=r,!0)},$$legacy:!0})},R=e=>{var r=Z();O(i=>ne(r,i),[()=>Math.round(t(n))],P),E(e,r)};F(q,e=>{l()?e(Q):e(R,!1)})}var B=m(q,2),S=v(B);I(S,{get content(){return a().suffix},set content(e){a(a().suffix=e,!0)},$$legacy:!0}),w(B),w(x);var k=m(x,2),U=v(k);I(U,{get content(){return a().description},set content(e){a(a().description=e,!0)},$$legacy:!0}),w(k);var W=m(k,2);{var X=e=>{var r=fe(),i=v(r),o=m(i,2),p=m(o,2);w(r),O((M,_)=>{L(o,1,M),o.disabled=j(),L(p,1,_),p.disabled=$()},[()=>T(V("w-6 h-6 p-1 rounded-full hover:bg-gray-100",j()?"opacity-20":"")),()=>T(V("w-6 h-6 p-1 rounded-full hover:bg-gray-100",$()?"opacity-20":""))],P),D("click",i,()=>y("delete")),D("click",o,()=>y("up")),D("click",p,()=>y("down")),E(e,r)};F(W,e=>{l()&&e(X)})}w(b),le(b,e=>s(c,e),()=>t(c)),E(z,b),ae(),H()}export{Ce as C};
